<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jeremy Champion's Portfolio</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="container">

        <div class="title">Jeremy Champion</div>

        <div class="showcase"></div>

    </div>

    <script>
        
        var showcases = [
            {
                title: 'Shattered Glass',
                image: 'img/shatteredGlassCover.png',
                project: 'https://flat5games.itch.io/shatteredglass',
                code: 'https://github.com/jrmychmpn/ShatteredGlass',
                tech: [
                    '.NET Framework',
                    'Monogame Framework',
                    'C#'
                ],
                description: 'This is a description. This is a description. This is a description. This is a description. This is a description. This is a description. This is a description.This is a description. This is a description. This is a description. This is a description. This is a description. This is a description. This is a description.'
            },
            {
                title: 'www.championmusicstudio.com',
                image: 'img/cms.png',
                project: 'https://www.championmusicstudio.com',
                tech: [
                    'HTML5',
                    'CSS3',
                    'JavaScript',
                    'PHP'
                ],
                description: 'This is a description. This is a description. This is a description. This is a description. This is a description. This is a description. This is a description.This is a description. This is a description. This is a description. This is a description. This is a description. This is a description. This is a description.'
            },
            {
                title: 'Rhythm Trainer',
                image: 'img/rhythmTrainer.png',
                project: 'https://jrmychmpn.github.io/RhythmTrainer',
                code: 'https://github.com/jrmychmpn/RhythmTrainer',
                tech: [
                    'HTML5',
                    'CSS3',
                    'JavaScript'
                ],
                description: 'This is a description. This is a description. This is a description. This is a description. This is a description. This is a description. This is a description.This is a description. This is a description. This is a description. This is a description. This is a description. This is a description. This is a description.'
            }
        ];
    
        var showcase = document.querySelector('div.showcase');
    
        for (var i = 0; i < showcases.length; i++) {
            
            let sc = showcases[i];

            let anchor = document.createElement('a');
            anchor.classList.add('showcase-item-container');
            //anchor.setAttribute('href', showcases[i].href);
            anchor.setAttribute('target', '_blank');
            anchor.addEventListener('click', function(e) {
                showModal(sc);
            });
    
            let item = document.createElement('div');
            item.classList.add('showcase-item');
    
            let image = document.createElement('img');
            image.setAttribute('src', sc.image);
    
            let title = document.createElement('div');
            title.classList.add('showcase-item-title');
            title.textContent = sc.title;
    
            item.appendChild(image);
            anchor.appendChild(item);
            anchor.appendChild(title);
            showcase.appendChild(anchor);
    
        }
    
        function showModal(showcase) {

            closeModal();

            let modal = document.createElement('div');
            modal.classList.add('modal');
            modal.classList.add('container');

            let modalHeader = document.createElement('div');
            modalHeader.classList.add('header');
            modalHeader.innerHTML = `<div class="section-header">${showcase.title}</div><span class="modal-close" onclick="closeModal();">X</span>`;

            let modalBody = document.createElement('div');
            modalBody.classList.add('body');

            let bodyHtml = `<div class="carousel"><img src="${showcase.image}" /></div>`;

            if (showcase.tech && showcase.tech.length) {

                bodyHtml += `<div class="section-header">Technologies</div><ul class="technologies">`;

                for (let i = 0; i < showcase.tech.length; i++) {
                    bodyHtml += `<li>${showcase.tech[i]}</li>`;
                }

                bodyHtml += `</ul>`;

            }

            if (showcase.description && showcase.description.length) {
                bodyHtml += `<div class="section-header">Description</div><p>${showcase.description}</p>`;
            }

            modalBody.innerHTML = bodyHtml;

            let modalFooter = document.createElement('div');
            modalFooter.classList.add('footer');

            if (showcase.project) {
                let viewProject = document.createElement('a');
                viewProject.classList.add('btn', 'btn-view-project');
                viewProject.innerHTML = 'View Project';
                viewProject.setAttribute('href', showcase.project);
                viewProject.setAttribute('target', '_blank');
                modalFooter.appendChild(viewProject);
            }

            if (showcase.code) {
                let viewCode = document.createElement('a');
                viewCode.classList.add('btn', 'btn-view-code');
                viewCode.innerHTML = 'View Code';
                viewCode.setAttribute('href', showcase.code);
                viewCode.setAttribute('target', '_blank');
                modalFooter.appendChild(viewCode);
            }

            modal.appendChild(modalHeader);
            modal.appendChild(modalBody);
            modal.appendChild(modalFooter);

            let modalOverlay = document.createElement('div');
            modalOverlay.classList.add('modal-overlay');

            let body = document.querySelector('body');
            body.appendChild(modal);
            body.appendChild(modalOverlay);

            modalOverlay.addEventListener("click", function() {
                closeModal();
            });
            
        }

        function closeModal() {
            let activeModals = document.querySelectorAll('.modal, .modal-overlay');

            for (let i = 0; i < activeModals.length; i++) {
                activeModals[i].remove();
            };
        }

    </script>
    
</body>

</html>